"use strict";(self["webpackChunkfrrid"]=self["webpackChunkfrrid"]||[]).push([[371],{4976:function(e,t,o){o.d(t,{U:function(){return n}});var r=o(2756),s=o.n(r),u=o(9761),a=o.n(u);function n(e){return s()(e,a())}},3747:function(e,t,o){o.d(t,{HW:function(){return a}});var r=o(8741);const s="dd.MM.yyyy";function u(e){return e instanceof Date?r.ou.fromJSDate(e).setLocale("ru"):"string"===typeof e?r.ou.fromISO(e).setLocale("ru"):e.setLocale("ru")}function a({date:e,format:t=s}){if(!e)return"";const o=u(e);return o.toFormat(t)}},3377:function(e,t,o){o.r(t),o.d(t,{default:function(){return L}});var r=o(3396),s=o(9242);function u(e,t,o,u,a,n){const i=(0,r.up)("FormsHeader"),m=(0,r.up)("VTabs"),c=(0,r.up)("GeneralForm"),h=(0,r.up)("AuthorsForm"),l=(0,r.up)("ResourcesForm"),d=(0,r.up)("DatesForm"),F=(0,r.up)("DisclosureForm"),S=(0,r.up)("OrganizationsForm"),g=(0,r.up)("TechnologyForm"),p=(0,r.up)("SourceCodeForm"),f=(0,r.up)("AddedModal"),w=(0,r.up)("GeneralPositionModal"),T=(0,r.up)("CompleteModal"),b=(0,r.up)("ItemPageFooter"),y=(0,r.up)("AppLayout");return(0,r.wg)(),(0,r.j4)(y,{class:"item-page"},(0,r.Nv)({default:(0,r.w5)((()=>[(0,r.Wm)(i,{class:"item-page__forms-header","form-id":n.itemId},null,8,["form-id"]),(0,r.Wm)(m,{items:n.tabsItems,"current-tab":n.currentTab,onChange:n.changeCurrentTab},null,8,["items","current-tab","onChange"]),(0,r.Wm)(s.uT,{name:"item-page__forms",mode:"out-in"},{default:(0,r.w5)((()=>["general"===n.currentTab?((0,r.wg)(),(0,r.j4)(c,{key:0})):"authors"===n.currentTab?((0,r.wg)(),(0,r.j4)(h,{key:1,onSuccess:t[0]||(t[0]=e=>a.showSuccess=!0)})):"resources"===n.currentTab?((0,r.wg)(),(0,r.j4)(l,{key:2})):"keyDates"===n.currentTab?((0,r.wg)(),(0,r.j4)(d,{key:3})):"disclosure"===n.currentTab?((0,r.wg)(),(0,r.j4)(F,{key:4})):"organizations"===n.currentTab?((0,r.wg)(),(0,r.j4)(S,{key:5})):"technology"===n.currentTab?((0,r.wg)(),(0,r.j4)(g,{key:6})):"source-code"!==n.currentTab||n.isTechType?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(p,{key:7}))])),_:1}),(0,r.Wm)(f,{show:a.showSuccess},null,8,["show"]),(0,r.Wm)(w,{onSubmit:n.onSubmit,show:a.showGeneralPosition,onClose:t[1]||(t[1]=e=>a.showGeneralPosition=!1)},null,8,["onSubmit","show"]),(0,r.Wm)(T,{show:a.showComplete},null,8,["show"])])),_:2},[e.isEditableStatus?{name:"footer",fn:(0,r.w5)((()=>[(0,r.Wm)(b,{complete:n.completed,onSend:t[2]||(t[2]=e=>a.showGeneralPosition=!0)},null,8,["complete"])]))}:void 0]),1024)}var a=o(6623),n=o(3619),i=o(9583),m=o(6578),c=o(9688),h=o(5948),l=o(1590),d=o(3057),F=o(1507),S=o(9773),g=o(7863),p=o(7001),f=o(3930),w=o(3),T=o(7663),b=o(3145),y=o(7898),C={name:"ItemView",components:{SourceCodeForm:y.Z,VTabs:n.Z,DatesForm:m.Z,AppLayout:i.Z,AddedModal:c.Z,AuthorsForm:d.Z,FormsHeader:l.Z,GeneralForm:h.Z,ResourcesForm:S.Z,CompleteModal:F.Z,DisclosureForm:p.Z,TechnologyForm:f.Z,ItemPageFooter:g.Z,OrganizationsForm:T.Z,GeneralPositionModal:w.Z},computed:{...(0,a.Se)("formInfo",["getFormType","isEditableStatus"]),...(0,a.Se)("general",{generalFormStatus:"getFormStatus"}),...(0,a.Se)("authors",{authorsFormStatus:"getFormStatus"}),...(0,a.Se)("dates",{datesFormStatus:"getFormStatus"}),...(0,a.Se)("technology",{technologyFormStatus:"getFormStatus"}),...(0,a.Se)("sourceCode",{sourceCodeFormStatus:"getFormStatus"}),...(0,a.Se)("organizations",{organizationsFormStatus:"getFormStatus"}),...(0,a.Se)("disclosure",{disclosureFormStatus:"getFormStatus"}),...(0,a.Se)("resources",{resourcesFormStatus:"getFormStatus"}),itemId(){const e=Number(this.$route.params.id);return Number.isNaN(e)||0===e?b.PX.Draft:e},currentTab(){return this.$route.query.tab||"general"},completed(){const e=this.generalFormStatus===b.f1.Filled,t=this.authorsFormStatus===b.f1.Filled,o=this.datesFormStatus===b.f1.Filled,r=this.technologyFormStatus===b.f1.Filled,s=this.organizationsFormStatus===b.f1.Filled,u=this.disclosureFormStatus===b.f1.Filled,a=this.resourcesFormStatus===b.f1.Filled,n=this.sourceCodeFormStatus===b.f1.Filled;return o&&e&&t&&a&&n&&u&&r&&s},tabStatuses(){return{[b.hL.KeyDates]:this.datesFormStatus,[b.hL.General]:this.generalFormStatus,[b.hL.Authors]:this.authorsFormStatus,[b.hL.Resources]:this.resourcesFormStatus,[b.hL.Technology]:this.technologyFormStatus,[b.hL.Disclosure]:this.disclosureFormStatus,[b.hL.SourceCode]:this.sourceCodeFormStatus,[b.hL.Organizations]:this.organizationsFormStatus}},isTechType(){return this.getFormType===b.hM.Tech},tabsItems(){let e=b.O8.slice();return this.isTechType&&e.pop(),e.map((e=>({...e,status:this.tabStatuses[e.key]||b.f1.NotFilled})))}},data(){return{showSuccess:!1,showComplete:!1,showGeneralPosition:!1}},watch:{showSuccess(e,t){if(e!==t){const e=setTimeout((()=>{this.showSuccess=!1,clearTimeout(e)}),2e3)}},isTechType(e,t){e&&!t&&this.currentTab===b.hL.SourceCode&&this.changeCurrentTab(b.hL.Technology)},showComplete(e,t){if(e&&!t){const e=setTimeout((()=>{this.showComplete=!1,clearTimeout(e)}),2e3)}}},methods:{...(0,a.nv)("authors",["getAuthors"]),changeCurrentTab(e){this.$router.replace({...this.$route,query:{tab:e}})},onSubmit(){this.showGeneralPosition=!1,this.showComplete=!0}},mounted(){this.getAuthors()}},Z=o(89);const k=(0,Z.Z)(C,[["render",u],["__scopeId","data-v-63c42fb4"]]);var L=k}}]);
//# sourceMappingURL=item-77a3c2a6.85043386.js.map