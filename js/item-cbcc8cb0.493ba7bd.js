"use strict";(self["webpackChunkfrrid"]=self["webpackChunkfrrid"]||[]).push([[848],{8471:function(){},2465:function(e,t,s){s.d(t,{s:function(){return a}});var o=s(3396),r=s(9242);function a(e,t,s,a,u,i){const n=(0,o.up)("FormsHeader"),h=(0,o.up)("VTabs"),c=(0,o.up)("GeneralForm"),m=(0,o.up)("AuthorsForm"),l=(0,o.up)("ResourcesForm"),d=(0,o.up)("DatesForm"),F=(0,o.up)("DisclosureForm"),g=(0,o.up)("OrganizationsForm"),p=(0,o.up)("TechnologyForm"),S=(0,o.up)("SourceCodeForm"),T=(0,o.up)("DescriptionForm"),w=(0,o.up)("AddedModal"),y=(0,o.up)("GeneralPositionModal"),b=(0,o.up)("CompleteModal"),f=(0,o.up)("ItemPageFooter"),C=(0,o.up)("AppLayout");return(0,o.wg)(),(0,o.j4)(C,{class:"item-page"},(0,o.Nv)({default:(0,o.w5)((()=>[(0,o.Wm)(n,{class:"item-page__forms-header","form-id":i.itemId},null,8,["form-id"]),(0,o.Wm)(h,{items:i.tabsItems,"current-tab":i.currentTab,onChange:i.changeCurrentTab},null,8,["items","current-tab","onChange"]),(0,o.Wm)(r.uT,{name:"item-page__forms",mode:"out-in"},{default:(0,o.w5)((()=>["general"===i.currentTab?((0,o.wg)(),(0,o.j4)(c,{key:0})):"authors"===i.currentTab?((0,o.wg)(),(0,o.j4)(m,{key:1,onSuccess:t[0]||(t[0]=e=>u.showSuccess=!0)})):"resources"===i.currentTab?((0,o.wg)(),(0,o.j4)(l,{key:2,onSuccess:t[1]||(t[1]=e=>u.showSuccess=!0)})):"keyDates"===i.currentTab?((0,o.wg)(),(0,o.j4)(d,{key:3})):"disclosure"===i.currentTab?((0,o.wg)(),(0,o.j4)(F,{key:4})):"organizations"===i.currentTab?((0,o.wg)(),(0,o.j4)(g,{key:5,onSuccess:t[2]||(t[2]=e=>u.showSuccess=!0)})):"technology"===i.currentTab&&i.isTechType?((0,o.wg)(),(0,o.j4)(p,{key:6})):"source-code"!==i.currentTab||i.isTechType?"description"!==i.currentTab||i.isTechType?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(T,{key:8})):((0,o.wg)(),(0,o.j4)(S,{key:7}))])),_:1}),(0,o.Wm)(w,{show:u.showSuccess},null,8,["show"]),(0,o.Wm)(y,{onSubmit:i.onSubmit,loading:u.sendingForms,show:u.showGeneralPosition,onClose:t[3]||(t[3]=e=>u.showGeneralPosition=!1)},null,8,["onSubmit","loading","show"]),(0,o.Wm)(b,{show:u.showComplete},null,8,["show"])])),_:2},[e.hasEditForms?{name:"footer",fn:(0,o.w5)((()=>[(0,o.Wm)(f,{complete:i.completed,onSend:t[4]||(t[4]=e=>u.showGeneralPosition=!0)},null,8,["complete"])]))}:void 0]),1024)}},1291:function(e,t,s){s.d(t,{Z:function(){return b}});var o=s(6623),r=s(1194),a=s(7168),u=s(8807),i=s(7382),n=s(9879),h=s(5518),c=s(8723),m=s(4670),l=s(2476),d=s(9002),F=s(2586),g=s(3458),p=s(2420),S=s(8931),T=s(3145),w=s(4213),y=s(4802),b={name:"ItemView",components:{SourceCodeForm:y.Z,DescriptionForm:w.Z,VTabs:r.Z,DatesForm:u.Z,AppLayout:a.Z,AddedModal:i.Z,AuthorsForm:c.Z,FormsHeader:h.Z,GeneralForm:n.Z,ResourcesForm:l.Z,CompleteModal:m.Z,DisclosureForm:F.Z,TechnologyForm:g.Z,ItemPageFooter:d.Z,OrganizationsForm:S.Z,GeneralPositionModal:p.Z},computed:{...(0,o.Se)("i18n",["localize"]),...(0,o.Se)("application",["getPass"]),...(0,o.Se)("formInfo",["getFormType","hasEditForms"]),...(0,o.Se)("general",{generalFormStatus:"getFormStatus"}),...(0,o.Se)("authors",{authorsFormStatus:"getFormStatus"}),...(0,o.Se)("dates",{datesFormStatus:"getFormStatus"}),...(0,o.Se)("technology",{technologyFormStatus:"getFormStatus"}),...(0,o.Se)("description",{descriptionFormStatus:"getFormStatus"}),...(0,o.Se)("organizations",{organizationsFormStatus:"getFormStatus"}),...(0,o.Se)("disclosure",{disclosureFormStatus:"getFormStatus"}),...(0,o.Se)("resources",{resourcesFormStatus:"getFormStatus"}),itemId(){const e=Number(this.$route.params.id);return Number.isNaN(e)||0===e?T.PX.Draft:e},currentTab(){return this.$route.query.tab||"general"},completed(){const e=this.generalFormStatus===T.f1.Filled,t=this.authorsFormStatus===T.f1.Filled,s=this.datesFormStatus===T.f1.Filled,o=this.technologyFormStatus===T.f1.Filled,r=this.organizationsFormStatus===T.f1.Filled,a=this.disclosureFormStatus===T.f1.Filled,u=this.resourcesFormStatus===T.f1.Filled,i=!!this.isTechType||this.descriptionFormStatus===T.f1.Filled;return s&&e&&t&&u&&a&&o&&r&&i},tabStatuses(){return{[T.hL.KeyDates]:this.datesFormStatus,[T.hL.General]:this.generalFormStatus,[T.hL.Authors]:this.authorsFormStatus,[T.hL.Resources]:this.resourcesFormStatus,[T.hL.Technology]:this.technologyFormStatus,[T.hL.Disclosure]:this.disclosureFormStatus,[T.hL.SourceCode]:this.technologyFormStatus,[T.hL.Description]:this.descriptionFormStatus,[T.hL.Organizations]:this.organizationsFormStatus}},isTechType(){return this.getFormType===T.hM.Tech},tabsItems(){let e=T.O8.map((e=>({...e,title:this.localize[e.title].text}))).slice();return this.isTechType?e.splice(T.O8.length-2,2):e.splice(T.O8.length-3,1),e.map((e=>({...e,status:this.tabStatuses[e.key]||T.f1.NotFilled})))}},data(){return{sendingForms:!1,showSuccess:!1,showComplete:!1,showGeneralPosition:!1}},watch:{showSuccess(e,t){if(e!==t){const e=setTimeout((()=>{this.showSuccess=!1,clearTimeout(e)}),2e3)}},isTechType(e,t){e===t||this.currentTab!==T.hL.Description&&this.currentTab!==T.hL.SourceCode?e!==t&&this.currentTab===T.hL.Technology&&this.changeCurrentTab(T.hL.SourceCode):this.changeCurrentTab(T.hL.Technology)},showComplete(e,t){if(e&&!t){const e=setTimeout((()=>{this.showComplete=!1,clearTimeout(e)}),2e3)}}},methods:{...(0,o.nv)("authors",["getAuthors"]),...(0,o.nv)("formInfo",["sendForms"]),changeCurrentTab(e){this.$router.replace({...this.$route,query:{tab:e}})},onSubmit(){this.sendingForms=!0,this.sendForms().finally((()=>{this.showGeneralPosition=!1,this.showComplete=!0,this.sendingForms=!1}))}},mounted(){this.getPass||this.$router.replace("/"),this.getAuthors()}}}}]);
//# sourceMappingURL=item-cbcc8cb0.493ba7bd.js.map