"use strict";(self["webpackChunkfrrid"]=self["webpackChunkfrrid"]||[]).push([[818],{2269:function(e,t,o){o.r(t),o.d(t,{default:function(){return D}});var s=o(3396),r=o(9242);function a(e,t,o,a,u,i){const n=(0,s.up)("FormsHeader"),c=(0,s.up)("VTabs"),h=(0,s.up)("GeneralForm"),l=(0,s.up)("AuthorsForm"),m=(0,s.up)("ResourcesForm"),d=(0,s.up)("DatesForm"),S=(0,s.up)("DisclosureForm"),p=(0,s.up)("OrganizationsForm"),F=(0,s.up)("TechnologyForm"),g=(0,s.up)("SourceCodeForm"),T=(0,s.up)("DescriptionForm"),w=(0,s.up)("AddedModal"),b=(0,s.up)("GeneralPositionModal"),y=(0,s.up)("CompleteModal"),f=(0,s.up)("ItemPageFooter"),C=(0,s.up)("AppLayout");return(0,s.wg)(),(0,s.j4)(C,{class:"item-page"},(0,s.Nv)({default:(0,s.w5)((()=>[(0,s.Wm)(n,{class:"item-page__forms-header","form-id":i.itemId},null,8,["form-id"]),(0,s.Wm)(c,{items:i.tabsItems,"current-tab":i.currentTab,onChange:i.changeCurrentTab},null,8,["items","current-tab","onChange"]),(0,s.Wm)(r.uT,{name:"item-page__forms",mode:"out-in"},{default:(0,s.w5)((()=>["general"===i.currentTab?((0,s.wg)(),(0,s.j4)(h,{key:0})):"authors"===i.currentTab?((0,s.wg)(),(0,s.j4)(l,{key:1,onSuccess:t[0]||(t[0]=e=>u.showSuccess=!0)})):"resources"===i.currentTab?((0,s.wg)(),(0,s.j4)(m,{key:2,onSuccess:t[1]||(t[1]=e=>u.showSuccess=!0)})):"keyDates"===i.currentTab?((0,s.wg)(),(0,s.j4)(d,{key:3})):"disclosure"===i.currentTab?((0,s.wg)(),(0,s.j4)(S,{key:4})):"organizations"===i.currentTab?((0,s.wg)(),(0,s.j4)(p,{key:5,onSuccess:t[2]||(t[2]=e=>u.showSuccess=!0)})):"technology"===i.currentTab&&i.isTechType?((0,s.wg)(),(0,s.j4)(F,{key:6})):"source-code"!==i.currentTab||i.isTechType?"description"!==i.currentTab||i.isTechType?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(T,{key:8})):((0,s.wg)(),(0,s.j4)(g,{key:7}))])),_:1}),(0,s.Wm)(w,{show:u.showSuccess},null,8,["show"]),(0,s.Wm)(b,{onSubmit:i.onSubmit,show:u.showGeneralPosition,onClose:t[3]||(t[3]=e=>u.showGeneralPosition=!1)},null,8,["onSubmit","show"]),(0,s.Wm)(y,{show:u.showComplete},null,8,["show"])])),_:2},[e.isEditableStatus?{name:"footer",fn:(0,s.w5)((()=>[(0,s.Wm)(f,{complete:i.completed,onSend:t[4]||(t[4]=e=>u.showGeneralPosition=!0)},null,8,["complete"])]))}:void 0]),1024)}var u=o(6623),i=o(5122),n=o(7168),c=o(7183),h=o(9688),l=o(2536),m=o(2215),d=o(3502),S=o(1507),p=o(279),F=o(8170),g=o(9431),T=o(6172),w=o(3),b=o(3812),y=o(3145),f=o(7130),C=o(2134),k={name:"ItemView",components:{SourceCodeForm:C.Z,DescriptionForm:f.Z,VTabs:i.Z,DatesForm:c.Z,AppLayout:n.Z,AddedModal:h.Z,AuthorsForm:d.Z,FormsHeader:m.Z,GeneralForm:l.Z,ResourcesForm:p.Z,CompleteModal:S.Z,DisclosureForm:g.Z,TechnologyForm:T.Z,ItemPageFooter:F.Z,OrganizationsForm:b.Z,GeneralPositionModal:w.Z},computed:{...(0,u.Se)("i18n",["localize"]),...(0,u.Se)("application",["getToken"]),...(0,u.Se)("formInfo",["getFormType","isEditableStatus"]),...(0,u.Se)("general",{generalFormStatus:"getFormStatus"}),...(0,u.Se)("authors",{authorsFormStatus:"getFormStatus"}),...(0,u.Se)("dates",{datesFormStatus:"getFormStatus"}),...(0,u.Se)("technology",{technologyFormStatus:"getFormStatus"}),...(0,u.Se)("description",{descriptionFormStatus:"getFormStatus"}),...(0,u.Se)("organizations",{organizationsFormStatus:"getFormStatus"}),...(0,u.Se)("disclosure",{disclosureFormStatus:"getFormStatus"}),...(0,u.Se)("resources",{resourcesFormStatus:"getFormStatus"}),itemId(){const e=Number(this.$route.params.id);return Number.isNaN(e)||0===e?y.PX.Draft:e},currentTab(){return this.$route.query.tab||"general"},completed(){const e=this.generalFormStatus===y.f1.Filled,t=this.authorsFormStatus===y.f1.Filled,o=this.datesFormStatus===y.f1.Filled,s=this.technologyFormStatus===y.f1.Filled,r=this.organizationsFormStatus===y.f1.Filled,a=this.disclosureFormStatus===y.f1.Filled,u=this.resourcesFormStatus===y.f1.Filled,i=!!this.isTechType||this.descriptionFormStatus===y.f1.Filled;return console.log(o,e,t,u,a,s,r,i),o&&e&&t&&u&&a&&s&&r&&i},tabStatuses(){return{[y.hL.KeyDates]:this.datesFormStatus,[y.hL.General]:this.generalFormStatus,[y.hL.Authors]:this.authorsFormStatus,[y.hL.Resources]:this.resourcesFormStatus,[y.hL.Technology]:this.technologyFormStatus,[y.hL.Disclosure]:this.disclosureFormStatus,[y.hL.SourceCode]:this.technologyFormStatus,[y.hL.Description]:this.descriptionFormStatus,[y.hL.Organizations]:this.organizationsFormStatus}},isTechType(){return this.getFormType===y.hM.Tech},tabsItems(){let e=y.O8.map((e=>({...e,title:this.localize[e.title].text}))).slice();return this.isTechType?e.splice(y.O8.length-2,2):e.splice(y.O8.length-3,1),e.map((e=>({...e,status:this.tabStatuses[e.key]||y.f1.NotFilled})))}},data(){return{showSuccess:!1,showComplete:!1,showGeneralPosition:!1}},watch:{showSuccess(e,t){if(e!==t){const e=setTimeout((()=>{this.showSuccess=!1,clearTimeout(e)}),2e3)}},isTechType(e,t){e===t||this.currentTab!==y.hL.Description&&this.currentTab!==y.hL.SourceCode?e!==t&&this.currentTab===y.hL.Technology&&this.changeCurrentTab(y.hL.SourceCode):this.changeCurrentTab(y.hL.Technology)},showComplete(e,t){if(e&&!t){const e=setTimeout((()=>{this.showComplete=!1,clearTimeout(e)}),2e3)}}},methods:{...(0,u.nv)("authors",["getAuthors"]),changeCurrentTab(e){this.$router.replace({...this.$route,query:{tab:e}})},onSubmit(){this.showGeneralPosition=!1,this.showComplete=!0}},mounted(){this.getToken||this.$router.replace("/"),this.getAuthors()}},Z=o(89);const L=(0,Z.Z)(k,[["render",a],["__scopeId","data-v-af098668"]]);var D=L}}]);
//# sourceMappingURL=item-6f612c32.ad973080.js.map